<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data transfer &mdash; pypz  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Executor" href="executor.html" />
    <link rel="prev" title="Parameters" href="parameters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pypz
          </a>
              <div class="version">
                0.9.0b9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data transfer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ports">Ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="#channels">Channels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pypz-core-channels-io-channelreader"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelReader</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pypz-core-channels-io-channelwriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelWriter</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#channelinputport-channeloutputport"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelInputPort</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelOutputPort</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#expected-parameters">Expected Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="executor.html">Executor</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployer.html">Deployer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plugins/kafka_io.html">Kafka IO Plugin</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deployers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../deployers/kubernetes.html">Kubernetes Deployer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sniffer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sniffer/overview.html">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/ht_create_pipeline.html">How to create a pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/ht_debug_in_operator.html">How to debug in a deployed operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/ht_contribute.html">Contributor’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/ht_develop.html">Developer’s Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lazlowa/pypz-python">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lazlowa/pypz-starter-template">Starter Template Project</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/lazlowa/pypz-examples">Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pypz</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Data transfer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/core/data_transfer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-transfer">
<span id="id1"></span><h1>Data transfer<a class="headerlink" href="#data-transfer" title="Link to this heading"></a></h1>
<p>Data transfer between operations in a pipeline is essential.
In <em>pypz</em> data transfer is possible between operators through so called <em>ports</em>.</p>
<figure class="align-center" id="id2">
<img alt="Basic pipeline" src="../_images/basic_pipeline.png" />
<figcaption>
<p><span class="caption-text">Basic pipeline</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="ports">
<h2>Ports<a class="headerlink" href="#ports" title="Link to this heading"></a></h2>
<p>An input and output port in <em>pypz</em> is an actual implementation of the corresponding interfaces:</p>
<figure class="align-default" id="id3">
<div class="graphviz"><img src="../_images/inheritance-516cda79a80faf63fce726f1241a5e921c7ad5fd.png" alt="Inheritance diagram of pypz.core.specs.plugin.InputPortPlugin, pypz.core.specs.plugin.OutputPortPlugin" usemap="#inheritancef6e8615a06" class="inheritance graphviz" /></div>
<map id="inheritancef6e8615a06" name="inheritancef6e8615a06">
<area shape="poly" id="node3" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.InputPortPlugin" target="_top" title="This plugin interface allows to implement data transfer input port for an operator." alt="" coords="517,843,506,831,473,820,422,812,357,807,286,805,214,807,150,812,99,820,66,831,54,843,66,854,99,865,150,873,214,879,286,881,357,879,422,873,473,865,506,854"/>
<area shape="poly" id="node4" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.PortPlugin" target="_top" title="This plugin interface allows to implement common methods for" alt="" coords="554,649,546,637,523,627,488,618,444,613,396,611,347,613,303,618,268,627,245,637,238,649,245,661,268,671,303,680,347,685,396,687,444,685,488,680,523,671,546,661"/>
<area shape="poly" id="node6" href="../indexes/core/pypz.core.specs.instance.html#pypz.core.specs.instance.Instance" target="_top" title="This class represents the instance specs that serves as base for" alt="" coords="746,260,739,248,720,237,690,229,653,224,611,222,570,224,533,229,503,237,484,248,477,260,484,271,503,282,533,290,570,296,611,298,653,296,690,290,720,282,739,271"/>
<area shape="poly" id="node7" href="../indexes/core/pypz.core.specs.instance.html#pypz.core.specs.instance.InstanceGroup" target="_top" title="This class provides methods to access instance group related information. It can be" alt="" coords="1263,260,1252,248,1221,237,1172,229,1110,224,1042,222,974,224,912,229,864,237,832,248,821,260,832,271,864,282,912,290,974,296,1042,298,1110,296,1172,290,1221,282,1252,271"/>
<area shape="poly" id="node8" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.OutputPortPlugin" target="_top" title="This plugin interface allows to implement data transfer output port for an operator." alt="" coords="1122,843,1110,831,1073,820,1017,812,945,807,866,805,787,807,716,812,659,820,623,831,610,843,623,854,659,865,716,873,787,879,866,881,945,879,1017,873,1073,865,1110,854"/>
<area shape="poly" id="node9" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.Plugin" target="_top" title="This interface has the only purpose to separate the plugin interfaces" alt="" coords="713,454,708,443,694,432,671,424,643,418,611,416,580,418,552,424,529,432,515,443,510,454,515,466,529,477,552,485,580,491,611,492,643,491,671,485,694,477,708,466"/>
<area shape="poly" id="node5" href="../indexes/core/pypz.core.specs.instance.html#pypz.core.specs.instance.RegisteredInterface" target="_top" title="This is a marker interface with the sole purpose to identify the native specs interfaces." alt="" coords="630,66,616,55,574,44,510,36,428,30,338,28,248,30,166,36,102,44,60,55,46,66,60,78,102,89,166,97,248,102,338,104,428,102,510,97,574,89,616,78"/>
</map><figcaption>
<p><span class="caption-text">Inheritance diagram</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Basically, you are free to implement any technology behind ports as long as you comply to the interfaces:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.InputPortPlugin" title="pypz.core.specs.plugin.InputPortPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypz.core.specs.plugin.InputPortPlugin</span></code></a></p></li>
<li><p><a class="reference internal" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.OutputPortPlugin" title="pypz.core.specs.plugin.OutputPortPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypz.core.specs.plugin.OutputPortPlugin</span></code></a></p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Note that although <em>pypz</em> has a lot of builtin guards and trails to ensure execution stability,
it does not have quality guarantees for custom interface implementations i.e., <em>pypz</em> will not
take responsibility to any damage caused during execution of a custom plugin.</p>
</div>
</section>
<section id="channels">
<h2>Channels<a class="headerlink" href="#channels" title="Link to this heading"></a></h2>
<p>During implementing the data transfer logic behind the port interfaces, you might encounter some challenges, which
takes more time to solve or even forces repetitive activities. For that reason <em>pypz</em> offers you an alternative
view on how data can be transferred across ports.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following feature is completely independent from ports, you can consider as an extension to it, which
you might use or not use. However, <em>pypz</em>’s implemented port plugins are based on this feature.</p>
</div>
<p>In <em>pypz</em>’s view, each connection between ports can/shall be isolated. Such a connection can be represented
as a <em>channel</em>.</p>
<figure class="align-center" id="id4">
<img alt="Pipeline with ports and channels" src="../_images/pipeline_w_ports_and_channels.png" />
<figcaption>
<p><span class="caption-text">Pipeline with ports and channels</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Actually, in the reality the channel is a virtual model, it exists due to the fact, that there is a resource
somewhere, where the data is written to and read from. The actual functionality is put into so called channel
readers and channel writers.</p>
<figure class="align-center" id="id5">
<img alt="ChannelReader/-Writer" src="../_images/channel_w_reader_writer.png" />
<figcaption>
<p><span class="caption-text">ChannelReader/-Writer</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Channels provide a solution to the following challenges:</p>
<ul class="simple">
<li><p>channel/connection state management and transfer i.e., ports are aware of other ports’ states</p></li>
<li><p>continuous health checks i.e., ports are aware, if other port is down</p></li>
<li><p>instance group handling i.e., if the operator is <a class="reference internal" href="models.html#operator-replication"><span class="std std-ref">replicated</span></a>, the channel gets this information</p></li>
<li><p>automatic metrics calculation</p></li>
</ul>
<p>If you want to utilize channels, then you shall implement the abstract methods of the corresponding classes
instead of the port interfaces.</p>
<section id="pypz-core-channels-io-channelreader">
<h3><a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelReader" title="pypz.core.channels.io.ChannelReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelReader</span></code></a><a class="headerlink" href="#pypz-core-channels-io-channelreader" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelReader._load_input_record_offset" title="pypz.core.channels.io.ChannelReader._load_input_record_offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelReader._load_input_record_offset()</span></code></a></p></li>
<li><p><a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelReader.has_records" title="pypz.core.channels.io.ChannelReader.has_records"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelReader.has_records()</span></code></a></p></li>
<li><p><a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelReader._read_records" title="pypz.core.channels.io.ChannelReader._read_records"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelReader._read_records()</span></code></a></p></li>
<li><p><a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelReader._commit_offset" title="pypz.core.channels.io.ChannelReader._commit_offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelReader._commit_offset()</span></code></a></p></li>
</ul>
</section>
<section id="pypz-core-channels-io-channelwriter">
<h3><a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelWriter" title="pypz.core.channels.io.ChannelWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelWriter</span></code></a><a class="headerlink" href="#pypz-core-channels-io-channelwriter" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelWriter._write_records" title="pypz.core.channels.io.ChannelWriter._write_records"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypz.core.channels.io.ChannelWriter._write_records()</span></code></a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice that the abstract methods are protected and shall not be called directly. The channel classes are providing
invoker methods that will invoke the protected methods along with other code that abstracts a lot of complexity
for you. For more information, check the code.</p>
</div>
<p>The question is, how to use the implemented channels. If you think carefully, you will notice that it is always the
same pattern:</p>
<ol class="arabic simple">
<li><p>create the necessary resources</p></li>
<li><p>open the channels</p></li>
<li><p>etl. wait for other connected channels</p></li>
<li><p>start the transmission</p></li>
<li><p>close the channels</p></li>
<li><p>clean up resources</p></li>
</ol>
<p>To unload you creating boilerplate code every time, <em>pypz</em> provides an abstract implementation of the input and
output port plugin, which takes care all of these steps, so at the end you just need to provide the channel
implementation, everything else will be taken care of.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>pypz</em> ships with a channel implementation for Kafka</p>
</div>
</section>
</section>
<section id="channelinputport-channeloutputport">
<h2><a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort" title="pypz.abstracts.channel_ports.ChannelInputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelInputPort</span></code></a>, <a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelOutputPort" title="pypz.abstracts.channel_ports.ChannelOutputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelOutputPort</span></code></a><a class="headerlink" href="#channelinputport-channeloutputport" title="Link to this heading"></a></h2>
<p>This is a builtin implementation of the InputPortPlugin and OutputPortPlugin interface that integrates
channels into <em>pypz</em>. It provides all the necessary method calls of the channels to perform data transmission.</p>
<figure class="align-default" id="id6">
<div class="graphviz"><img src="../_images/inheritance-c9ac1137f24a58f93e4c73dfca78fd65207eccc2.png" alt="Inheritance diagram of pypz.abstracts.channel_ports.ChannelInputPort, pypz.abstracts.channel_ports.ChannelOutputPort" usemap="#inheritanceed7a134ae7" class="inheritance graphviz" /></div>
<map id="inheritanceed7a134ae7" name="inheritanceed7a134ae7">
<area shape="poly" id="node2" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort" target="_top" title="This class represents an abstract InputPortPlugin, which utilizes the channels" alt="" coords="383,904,374,895,347,887,305,881,252,877,193,876,135,877,82,881,40,887,13,895,4,904,13,912,40,920,82,926,135,930,193,931,252,930,305,926,347,920,374,912"/>
<area shape="poly" id="node3" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.InputPortPlugin" target="_top" title="This plugin interface allows to implement data transfer input port for an operator." alt="" coords="1075,734,1066,725,1042,717,1005,711,958,707,906,706,854,707,807,711,770,717,746,725,738,734,746,742,770,750,807,756,854,760,906,761,958,760,1005,756,1042,750,1066,742"/>
<area shape="poly" id="node4" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.ResourceHandlerPlugin" target="_top" title="This plugin interface allows to implement resource management related" alt="" coords="734,565,722,556,686,548,631,542,562,538,485,537,408,538,339,542,284,548,249,556,236,565,249,573,284,581,339,587,408,591,485,592,562,591,631,587,686,581,722,573"/>
<area shape="poly" id="node5" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.ExtendedPlugin" target="_top" title="This interface extends the normal plugin&#39;s lifecycle. The methods" alt="" coords="1093,565,1084,556,1060,548,1022,542,974,538,922,537,869,538,821,542,783,548,759,556,751,565,759,573,783,581,821,587,869,591,922,592,974,591,1022,587,1060,581,1084,573"/>
<area shape="poly" id="node6" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelOutputPort" target="_top" title="This class represents an abstract OutputPortPlugin, which utilizes the channels" alt="" coords="824,904,814,895,784,887,738,881,680,877,616,876,552,877,494,881,448,887,419,895,408,904,419,912,448,920,494,926,552,930,616,931,680,930,738,926,784,920,814,912"/>
<area shape="poly" id="node7" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.OutputPortPlugin" target="_top" title="This plugin interface allows to implement data transfer output port for an operator." alt="" coords="1498,734,1489,725,1462,717,1421,711,1369,707,1312,706,1254,707,1202,711,1161,717,1134,725,1125,734,1134,742,1161,750,1202,756,1254,760,1312,761,1369,760,1421,756,1462,750,1489,742"/>
<area shape="poly" id="node8" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.Plugin" target="_top" title="This interface has the only purpose to separate the plugin interfaces" alt="" coords="951,395,947,387,937,379,920,373,900,369,877,368,854,369,834,373,817,379,807,387,803,395,807,404,817,412,834,418,854,422,877,423,900,422,920,418,937,412,947,404"/>
<area shape="poly" id="node11" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.PortPlugin" target="_top" title="This plugin interface allows to implement common methods for" alt="" coords="1339,565,1334,556,1317,548,1292,542,1260,538,1224,537,1189,538,1157,542,1131,548,1115,556,1109,565,1115,573,1131,581,1157,587,1189,591,1224,592,1260,591,1292,587,1317,581,1334,573"/>
<area shape="poly" id="node12" href="../indexes/core/pypz.core.specs.instance.html#pypz.core.specs.instance.Instance" target="_top" title="This class represents the instance specs that serves as base for" alt="" coords="1202,226,1197,218,1183,210,1162,204,1134,200,1104,199,1074,200,1047,204,1025,210,1011,218,1007,226,1011,235,1025,243,1047,249,1074,253,1104,254,1134,253,1162,249,1183,243,1197,235"/>
<area shape="poly" id="node13" href="../indexes/core/pypz.core.specs.instance.html#pypz.core.specs.instance.InstanceGroup" target="_top" title="This class provides methods to access instance group related information. It can be" alt="" coords="881,226,873,218,851,210,815,204,770,200,721,199,671,200,626,204,591,210,568,218,560,226,568,235,591,243,626,249,671,253,721,254,770,253,815,249,851,243,873,235"/>
<area shape="poly" id="node9" href="../indexes/core/pypz.core.specs.instance.html#pypz.core.specs.instance.RegisteredInterface" target="_top" title="This is a marker interface with the sole purpose to identify the native specs interfaces." alt="" coords="1526,57,1516,49,1486,41,1438,35,1379,31,1313,30,1248,31,1188,35,1141,41,1111,49,1101,57,1111,66,1141,73,1188,80,1248,83,1313,85,1379,83,1438,80,1486,73,1516,66"/>
</map><figcaption>
<p><span class="caption-text">Inheritance diagram</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Notice that both plugins are implementing the <a class="reference internal" href="../indexes/core/pypz.core.specs.plugin.html#pypz.core.specs.plugin.ResourceHandlerPlugin" title="pypz.core.specs.plugin.ResourceHandlerPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypz.core.specs.plugin.ResourceHandlerPlugin</span></code></a>
interface as well, which allows to create and delete resources for the channels.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that it is not mandatory to use this plugin. If you have a better idea, how to integrate channels
into <em>pypz</em>, feel free to implement it.</p>
</div>
<p>Although <a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelOutputPort" title="pypz.abstracts.channel_ports.ChannelOutputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelOutputPort</span></code></a> and
<a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort" title="pypz.abstracts.channel_ports.ChannelInputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelInputPort</span></code></a> has an N-to-M relation,
there is an N-to-1 relation on channel level
i.e., a <a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelOutputPort" title="pypz.abstracts.channel_ports.ChannelOutputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelOutputPort</span></code></a> will create as many
<a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelWriter" title="pypz.core.channels.io.ChannelWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelWriter</span></code></a> as many
<a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort" title="pypz.abstracts.channel_ports.ChannelInputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelInputPort</span></code></a>
is connected, but the <a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort" title="pypz.abstracts.channel_ports.ChannelInputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelInputPort</span></code></a> creates only one
<a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelReader" title="pypz.core.channels.io.ChannelReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelReader</span></code></a>.</p>
<figure class="align-center" id="id7">
<img alt="ChannelWriter-ChannelReader N-1" src="../_images/multiple_channel_w_reader_writer.png" />
<figcaption>
<p><span class="caption-text">ChannelWriter-ChannelReader N-1</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The reason is that from <a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort" title="pypz.abstracts.channel_ports.ChannelInputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelInputPort</span></code></a>
perspective you have certain expectations w.r.t. records, so there
is no reason to create different <a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelReader" title="pypz.core.channels.io.ChannelReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelReader</span></code></a> entities,
because all the <a class="reference internal" href="../indexes/core/pypz.core.channels.io.html#pypz.core.channels.io.ChannelWriter" title="pypz.core.channels.io.ChannelWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelWriter</span></code></a> shall meet your expectations.
In other words, by invoking the <a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort.retrieve" title="pypz.abstracts.channel_ports.ChannelInputPort.retrieve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypz.abstracts.channel_ports.ChannelInputPort.retrieve()</span></code></a> method,
you will then get all the records from all the outputs anyhow. This means as well that you need to manually
care for ordering, if you have such a requirement.</p>
<p>Further information:</p>
<ul class="simple">
<li><p>if an operator is <a class="reference internal" href="models.html#operator-replication"><span class="std std-ref">replicated</span></a>, then it forms an <a class="reference internal" href="models.html#instance-group"><span class="std std-ref">instance group</span></a>;
only group principals can manage resources, replicas cannot</p></li>
<li><p>in case of error <strong>resources WILL NOT be deleted</strong>, this feature ensures that in case the principal instance crashes,
it can restart and continue the work without deleting the resources containing the already transmitted records</p></li>
<li><p>in shutdown phase it is made sure that all channels have at least one attempt to shut down itself even it a previous
channel threw an exception</p></li>
</ul>
<section id="expected-parameters">
<span id="channel-expected-parameters"></span><h3>Expected Parameters<a class="headerlink" href="#expected-parameters" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelInputPort" title="pypz.abstracts.channel_ports.ChannelInputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelInputPort</span></code></a>:</p>
<ul class="simple">
<li><p><strong>channelLocation</strong>, location of the channel resource</p></li>
<li><p><strong>channelConfig</strong>, configuration of the channel as dictionary (default: {})</p></li>
<li><p><strong>sequentialModeEnabled</strong>, if set to True, then this port will wait with the processing start until all the
connected output ports are finished (default: False)</p></li>
<li><p><strong>portOpenTimeoutMs</strong>, specifies, how long the port shall wait for incoming connections; 0 means no timeout (default: 0)</p></li>
<li><p><strong>syncConnectionsOpen</strong>, if set to True, the port will wait for every expected output ports to be connected (default: False)</p></li>
</ul>
<p><a class="reference internal" href="../indexes/core/pypz.abstracts.channel_ports.html#pypz.abstracts.channel_ports.ChannelOutputPort" title="pypz.abstracts.channel_ports.ChannelOutputPort"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelOutputPort</span></code></a>:</p>
<ul class="simple">
<li><p><strong>channelLocation</strong>, location of the channel resource</p></li>
<li><p><strong>channelConfig</strong>, configuration of the channel as dictionary (default: {})</p></li>
<li><p><strong>portOpenTimeoutMs</strong>, specifies, how long the port shall wait for incoming connections; 0 means no timeout (default: 0)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As mentioned, the parameter “channelConfig” is a dictionary. The base channel class is providing the
following parameters:</p>
<ul class="simple">
<li><p><strong>metricsEnabled</strong>, if set to True, then some metrics will be calculated and logged (default: False)</p></li>
<li><p><strong>logLevel</strong>, specifies the log level for the channel (default: “DEBUG”)</p></li>
</ul>
<p>Different channel implementations may require additional configuration. Example set channel configuration parameter:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plugin</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="s2">&quot;channelConfig&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;metricsEnabled&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="parameters.html" class="btn btn-neutral float-left" title="Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="executor.html" class="btn btn-neutral float-right" title="Executor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Laszlo Anka.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>