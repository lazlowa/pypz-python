<?xml-stylesheet type="text/xsl" href="../../../../../mypy-html.xslt"?><mypy-report-file name="sniffer\src\pypz\sniffer\views.py" module="sniffer.src.pypz.sniffer.views"><line any_info="No Anys on this line!" content="# =============================================================================" number="1" precision="empty"/><line any_info="No Anys on this line!" content="# Copyright (c) 2024 by Laszlo Anka. All rights reserved." number="2" precision="empty"/><line any_info="No Anys on this line!" content="#" number="3" precision="empty"/><line any_info="No Anys on this line!" content="# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);" number="4" precision="empty"/><line any_info="No Anys on this line!" content="# you may not use this file except in compliance with the License." number="5" precision="empty"/><line any_info="No Anys on this line!" content="# You may obtain a copy of the License at" number="6" precision="empty"/><line any_info="No Anys on this line!" content="#" number="7" precision="empty"/><line any_info="No Anys on this line!" content="#     http://www.apache.org/licenses/LICENSE-2.0" number="8" precision="empty"/><line any_info="No Anys on this line!" content="#" number="9" precision="empty"/><line any_info="No Anys on this line!" content="# Unless required by applicable law or agreed to in writing, software" number="10" precision="empty"/><line any_info="No Anys on this line!" content="# distributed under the License is distributed on an &quot;AS IS&quot; BASIS," number="11" precision="empty"/><line any_info="No Anys on this line!" content="# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied." number="12" precision="empty"/><line any_info="No Anys on this line!" content="# See the License for the specific language governing permissions and" number="13" precision="empty"/><line any_info="No Anys on this line!" content="# limitations under the License." number="14" precision="empty"/><line any_info="No Anys on this line!" content="# =============================================================================" number="15" precision="empty"/><line any_info="No Anys on this line!" content="import tkinter as tk" number="16" precision="precise"/><line any_info="No Anys on this line!" content="" number="17" precision="empty"/><line any_info="No Anys on this line!" content="from pypz.abstracts.channel_ports import ChannelInputPort, ChannelOutputPort" number="18" precision="any"/><line any_info="No Anys on this line!" content="from pypz.core.channels.status import ChannelStatusMessage, ChannelStatus" number="19" precision="any"/><line any_info="No Anys on this line!" content="from pypz.core.specs.operator import Operator" number="20" precision="any"/><line any_info="No Anys on this line!" content="" number="21" precision="empty"/><line any_info="No Anys on this line!" content="" number="22" precision="empty"/><line any_info="No Anys on this line!" content="class ViewConfig:" number="23" precision="precise"/><line any_info="No Anys on this line!" content="    window_width = 1400" number="24" precision="precise"/><line any_info="No Anys on this line!" content="    window_height = 600" number="25" precision="precise"/><line any_info="No Anys on this line!" content="" number="26" precision="empty"/><line any_info="No Anys on this line!" content="    status_cell_count = 20" number="27" precision="precise"/><line any_info="No Anys on this line!" content="    status_cell_size = int(window_width / status_cell_count)" number="28" precision="precise"/><line any_info="No Anys on this line!" content="" number="29" precision="empty"/><line any_info="No Anys on this line!" content="    operator_start_pos_x = 100" number="30" precision="precise"/><line any_info="No Anys on this line!" content="    operator_start_pos_y = 50" number="31" precision="precise"/><line any_info="No Anys on this line!" content="    operator_width = 300" number="32" precision="precise"/><line any_info="No Anys on this line!" content="    operator_height = 100" number="33" precision="precise"/><line any_info="No Anys on this line!" content="    operator_spacing_hor = 350" number="34" precision="precise"/><line any_info="No Anys on this line!" content="    operator_spacing_ver = 50" number="35" precision="precise"/><line any_info="No Anys on this line!" content="    replica_spacing_ver = 5" number="36" precision="precise"/><line any_info="No Anys on this line!" content="" number="37" precision="empty"/><line any_info="No Anys on this line!" content="    channel_start_pos_x = 0" number="38" precision="precise"/><line any_info="No Anys on this line!" content="    channel_start_pos_y = 30" number="39" precision="precise"/><line any_info="No Anys on this line!" content="    channel_spacing_hor = 0" number="40" precision="precise"/><line any_info="No Anys on this line!" content="    channel_spacing_ver = 15" number="41" precision="precise"/><line any_info="No Anys on this line!" content="    channel_width = 120" number="42" precision="precise"/><line any_info="No Anys on this line!" content="    channel_cell_height = 12" number="43" precision="precise"/><line any_info="No Anys on this line!" content="    channel_height = channel_cell_height * 3" number="44" precision="precise"/><line any_info="No Anys on this line!" content="" number="45" precision="empty"/><line any_info="No Anys on this line!" content="    grid_line_spacing_hor = 15" number="46" precision="precise"/><line any_info="No Anys on this line!" content="    grid_line_spacing_ver = 15" number="47" precision="precise"/><line any_info="No Anys on this line!" content="" number="48" precision="empty"/><line any_info="No Anys on this line!" content="" number="49" precision="empty"/><line any_info="No Anys on this line!" content="class ChannelView:" number="50" precision="precise"/><line any_info="No Anys on this line!" content="    def __init__(self, canvas: tk.Canvas, channel_reader_idx: int, channel_writer_idx: int):" number="51" precision="precise"/><line any_info="No Anys on this line!" content="        self.canvas = canvas" number="52" precision="precise"/><line any_info="No Anys on this line!" content="" number="53" precision="empty"/><line any_info="No Anys on this line!" content="        self.channel_reader_idx = channel_reader_idx" number="54" precision="precise"/><line any_info="No Anys on this line!" content="        self.channel_writer_idx = channel_writer_idx" number="55" precision="precise"/><line any_info="Any Types on this line: &#10;Omitted Generics (x3)" content="        self.channel_reader_views: list[ChannelRWView] = list()" number="56" precision="precise"/><line any_info="Any Types on this line: &#10;Omitted Generics (x3)" content="        self.channel_writer_views: list[ChannelRWView] = list()" number="57" precision="precise"/><line any_info="No Anys on this line!" content="" number="58" precision="empty"/><line any_info="No Anys on this line!" content="        self.x1 = None" number="59" precision="precise"/><line any_info="No Anys on this line!" content="        self.y1 = None" number="60" precision="precise"/><line any_info="No Anys on this line!" content="        self.x2 = None" number="61" precision="precise"/><line any_info="No Anys on this line!" content="        self.y2 = None" number="62" precision="precise"/><line any_info="No Anys on this line!" content="" number="63" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x1)" content="    def draw(self, next_available_y_position: int):" number="64" precision="any"/><line any_info="Any Types on this line: &#10;Omitted Generics (x23)" content="        first_channel_reader = min(self.channel_reader_views, key=lambda cr: cr.top)" number="65" precision="precise"/><line any_info="Any Types on this line: &#10;Omitted Generics (x23)" content="        last_channel_reader = max(self.channel_reader_views, key=lambda cr: cr.top)" number="66" precision="precise"/><line any_info="Any Types on this line: &#10;Omitted Generics (x23)" content="        first_channel_writer = min(self.channel_writer_views, key=lambda cr: cr.top)" number="67" precision="precise"/><line any_info="Any Types on this line: &#10;Omitted Generics (x23)" content="        last_channel_writer = max(self.channel_writer_views, key=lambda cr: cr.top)" number="68" precision="precise"/><line any_info="No Anys on this line!" content="" number="69" precision="empty"/><line any_info="No Anys on this line!" content="        channel_reader_x_min = first_channel_reader.left" number="70" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x4)" content="        channel_reader_y_min = first_channel_reader.top + (first_channel_reader.bottom - first_channel_reader.top) / 2" number="71" precision="any"/><line any_info="Any Types on this line: &#10;Error (x4)" content="        channel_reader_y_max = last_channel_reader.top + (last_channel_reader.bottom - last_channel_reader.top) / 2" number="72" precision="any"/><line any_info="No Anys on this line!" content="" number="73" precision="empty"/><line any_info="No Anys on this line!" content="        channel_writer_x_max = first_channel_writer.right" number="74" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x4)" content="        channel_writer_y_min = first_channel_writer.top + (first_channel_writer.bottom - first_channel_writer.top) / 2" number="75" precision="any"/><line any_info="Any Types on this line: &#10;Error (x4)" content="        channel_writer_y_max = last_channel_writer.top + (last_channel_writer.bottom - last_channel_writer.top) / 2" number="76" precision="any"/><line any_info="No Anys on this line!" content="" number="77" precision="empty"/><line any_info="No Anys on this line!" content="        self.x1 = channel_reader_x_min - 50 - 20 * self.channel_reader_idx" number="78" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x6)" content="        self.y1 = channel_reader_y_min + (channel_reader_y_max - channel_reader_y_min) / 2" number="79" precision="any"/><line any_info="No Anys on this line!" content="        self.x2 = channel_writer_x_max + 50 + 20 * self.channel_writer_idx" number="80" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x6)" content="        self.y2 = channel_writer_y_min + (channel_writer_y_max - channel_writer_y_min) / 2" number="81" precision="any"/><line any_info="No Anys on this line!" content="" number="82" precision="empty"/><line any_info="No Anys on this line!" content="        for idx, channel_reader in enumerate(self.channel_reader_views):" number="83" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x1)" content="            self.canvas.create_line(self.x1," number="84" precision="any"/><line any_info="Any Types on this line: &#10;Error (x3)" content="                                    channel_reader.top + (channel_reader.bottom - channel_reader.top) / 2," number="85" precision="any"/><line any_info="No Anys on this line!" content="                                    channel_reader_x_min - 5," number="86" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x3)" content="                                    channel_reader.top + (channel_reader.bottom - channel_reader.top) / 2," number="87" precision="any"/><line any_info="No Anys on this line!" content="                                    arrow=tk.LAST)" number="88" precision="precise"/><line any_info="No Anys on this line!" content="" number="89" precision="empty"/><line any_info="No Anys on this line!" content="        for idx, channel_writer in enumerate(self.channel_writer_views):" number="90" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x1)" content="            self.canvas.create_line(channel_writer.right + 5," number="91" precision="any"/><line any_info="Any Types on this line: &#10;Error (x3)" content="                                    channel_writer.top + (channel_writer.bottom - channel_writer.top) / 2," number="92" precision="any"/><line any_info="No Anys on this line!" content="                                    self.x2," number="93" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x3)" content="                                    channel_writer.top + (channel_writer.bottom - channel_writer.top) / 2)" number="94" precision="any"/><line any_info="No Anys on this line!" content="" number="95" precision="empty"/><line any_info="No Anys on this line!" content="        self.canvas.create_oval(self.x1 - 3, self.y1 - 3, self.x1 + 3, self.y1 + 3, fill=&quot;black&quot;)" number="96" precision="precise"/><line any_info="No Anys on this line!" content="        self.canvas.create_oval(self.x2 - 3, self.y2 - 3, self.x2 + 3, self.y2 + 3, fill=&quot;black&quot;)" number="97" precision="precise"/><line any_info="No Anys on this line!" content="" number="98" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x1)" content="        self.canvas.create_line(self.x1, self.y1, self.x1 - 10, self.y1)" number="99" precision="any"/><line any_info="Any Types on this line: &#10;Error (x1)" content="        self.canvas.create_line(self.x2 + 10, self.y2, self.x2, self.y2)" number="100" precision="any"/><line any_info="Any Types on this line: &#10;Error (x3)" content="        self.canvas.create_line(self.x2, channel_writer_y_min, self.x2, channel_writer_y_max)" number="101" precision="any"/><line any_info="Any Types on this line: &#10;Error (x3)" content="        self.canvas.create_line(self.x1, channel_reader_y_min, self.x1, channel_reader_y_max)" number="102" precision="any"/><line any_info="No Anys on this line!" content="" number="103" precision="empty"/><line any_info="No Anys on this line!" content="        next_available_y_position += 20" number="104" precision="precise"/><line any_info="No Anys on this line!" content="" number="105" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x1)" content="        if self.x1 &lt; self.x2:" number="106" precision="any"/><line any_info="Any Types on this line: &#10;Error (x1)" content="            self.canvas.create_line(self.x1 - 10, self.y1, self.x1 - 10, next_available_y_position)" number="107" precision="any"/><line any_info="Any Types on this line: &#10;Error (x1)" content="            self.canvas.create_line(self.x2 + 10, self.y2, self.x2 + 10, next_available_y_position)" number="108" precision="any"/><line any_info="No Anys on this line!" content="" number="109" precision="empty"/><line any_info="No Anys on this line!" content="            self.canvas.create_line(self.x1 - 10, next_available_y_position," number="110" precision="precise"/><line any_info="No Anys on this line!" content="                                    self.x2 + 10, next_available_y_position)" number="111" precision="precise"/><line any_info="No Anys on this line!" content="        else:" number="112" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x1)" content="            self.canvas.create_line(self.x1 - 10, self.y1, self.x2 + 10, self.y2)" number="113" precision="any"/><line any_info="No Anys on this line!" content="" number="114" precision="empty"/><line any_info="No Anys on this line!" content="        return next_available_y_position" number="115" precision="precise"/><line any_info="No Anys on this line!" content="" number="116" precision="empty"/><line any_info="No Anys on this line!" content="" number="117" precision="empty"/><line any_info="No Anys on this line!" content="class ChannelRWView:" number="118" precision="precise"/><line any_info="No Anys on this line!" content="    def __init__(self, canvas: tk.Canvas):" number="119" precision="precise"/><line any_info="No Anys on this line!" content="        self.canvas = canvas" number="120" precision="precise"/><line any_info="No Anys on this line!" content="" number="121" precision="empty"/><line any_info="No Anys on this line!" content="        self.channel_box = None" number="122" precision="precise"/><line any_info="No Anys on this line!" content="        self.channel_text = None" number="123" precision="precise"/><line any_info="No Anys on this line!" content="        self.status_display_l = None" number="124" precision="precise"/><line any_info="No Anys on this line!" content="        self.status_display_r = None" number="125" precision="precise"/><line any_info="No Anys on this line!" content="" number="126" precision="empty"/><line any_info="No Anys on this line!" content="        self.left = None" number="127" precision="precise"/><line any_info="No Anys on this line!" content="        self.top = None" number="128" precision="precise"/><line any_info="No Anys on this line!" content="        self.right = None" number="129" precision="precise"/><line any_info="No Anys on this line!" content="        self.bottom = None" number="130" precision="precise"/><line any_info="No Anys on this line!" content="" number="131" precision="empty"/><line any_info="No Anys on this line!" content="        self.is_finished: bool = False" number="132" precision="precise"/><line any_info="No Anys on this line!" content="        self.is_error: bool = False" number="133" precision="precise"/><line any_info="No Anys on this line!" content="        self.last_status_message_timestamp: int = 0" number="134" precision="precise"/><line any_info="No Anys on this line!" content="" number="135" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x1)&#10;Unannotated (x1)" content="    def on_update(self, status_message: ChannelStatusMessage):" number="136" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="        self.last_status_message_timestamp = status_message.timestamp" number="137" precision="any"/><line any_info="No Anys on this line!" content="" number="138" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="        if ChannelStatus.Opened == status_message.status:" number="139" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="            self.canvas.itemconfig(self.status_display_l, fill=&quot;yellow&quot;)" number="140" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="            self.canvas.itemconfig(self.status_display_r, fill=&quot;yellow&quot;)" number="141" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="        elif ChannelStatus.Started == status_message.status:" number="142" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="            self.canvas.itemconfig(self.status_display_l, fill=&quot;green&quot;)" number="143" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="            self.canvas.itemconfig(self.status_display_r, fill=&quot;green&quot;)" number="144" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="        elif ChannelStatus.Error == status_message.status:" number="145" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="            self.canvas.itemconfig(self.status_display_l, fill=&quot;red&quot;)" number="146" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="            self.canvas.itemconfig(self.status_display_r, fill=&quot;red&quot;)" number="147" precision="any"/><line any_info="No Anys on this line!" content="            self.is_error = True" number="148" precision="precise"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="        elif ChannelStatus.Stopped == status_message.status:" number="149" precision="any"/><line any_info="No Anys on this line!" content="            if not self.is_error:" number="150" precision="precise"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="                self.canvas.itemconfig(self.status_display_l, fill=&quot;blue&quot;)" number="151" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="                self.canvas.itemconfig(self.status_display_r, fill=&quot;blue&quot;)" number="152" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="        elif ChannelStatus.Closed == status_message.status:" number="153" precision="any"/><line any_info="No Anys on this line!" content="            if not self.is_error:" number="154" precision="precise"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="                self.canvas.itemconfig(self.status_display_l, fill=&quot;lightgrey&quot;)" number="155" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="                self.canvas.itemconfig(self.status_display_r, fill=&quot;lightgrey&quot;)" number="156" precision="any"/><line any_info="No Anys on this line!" content="            self.is_finished = True" number="157" precision="precise"/><line any_info="No Anys on this line!" content="" number="158" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="        if status_message.payload is not None:" number="159" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="            if &quot;sentRecordCount&quot; in status_message.payload:" number="160" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)&#10;Unimported (x3)" content="                self.canvas.itemconfig(self.channel_text, text=status_message.payload[&quot;sentRecordCount&quot;])" number="161" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="            elif &quot;receivedRecordCount&quot; in status_message.payload:" number="162" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x2)&#10;Unimported (x3)" content="                self.canvas.itemconfig(self.channel_text, text=status_message.payload[&quot;receivedRecordCount&quot;])" number="163" precision="any"/><line any_info="No Anys on this line!" content="" number="164" precision="empty"/><line any_info="No Anys on this line!" content="    def draw(self, left, right):" number="165" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="        self.left = left" number="166" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="        self.top = right" number="167" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        self.right = left + ViewConfig.channel_width" number="168" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        self.bottom = right + ViewConfig.channel_cell_height" number="169" precision="any"/><line any_info="No Anys on this line!" content="" number="170" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x8)" content="        self.channel_box = self.canvas.create_rectangle(self.left, self.top, self.right, self.bottom," number="171" precision="any"/><line any_info="No Anys on this line!" content="                                                        outline=&quot;&quot;, fill=&quot;white&quot;)" number="172" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x8)" content="        self.channel_text = self.canvas.create_text(self.left + ViewConfig.channel_width / 2," number="173" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="                                                    self.top + ViewConfig.channel_cell_height / 2," number="174" precision="any"/><line any_info="No Anys on this line!" content="                                                    text=&quot;0&quot;, fill=&quot;black&quot;, justify=tk.CENTER)" number="175" precision="any"/><line any_info="No Anys on this line!" content="" number="176" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x9)" content="        self.status_display_l = self.canvas.create_rectangle(self.left, self.top, self.left + 10, self.bottom," number="177" precision="any"/><line any_info="No Anys on this line!" content="                                                             outline=&quot;&quot;, fill=&quot;gray&quot;)" number="178" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x9)" content="        self.status_display_r = self.canvas.create_rectangle(self.right - 10, self.top, self.right, self.bottom," number="179" precision="any"/><line any_info="No Anys on this line!" content="                                                             outline=&quot;&quot;, fill=&quot;gray&quot;)" number="180" precision="any"/><line any_info="No Anys on this line!" content="" number="181" precision="empty"/><line any_info="No Anys on this line!" content="" number="182" precision="empty"/><line any_info="No Anys on this line!" content="class PortView:" number="183" precision="precise"/><line any_info="No Anys on this line!" content="    def __init__(self, canvas: tk.Canvas, port_name: str):" number="184" precision="precise"/><line any_info="No Anys on this line!" content="        self.canvas = canvas" number="185" precision="precise"/><line any_info="No Anys on this line!" content="" number="186" precision="empty"/><line any_info="No Anys on this line!" content="        self.port_name: str = port_name" number="187" precision="precise"/><line any_info="No Anys on this line!" content="" number="188" precision="empty"/><line any_info="Any Types on this line: &#10;Omitted Generics (x3)" content="        self.channel_views: list[ChannelRWView] = list()" number="189" precision="precise"/><line any_info="No Anys on this line!" content="" number="190" precision="empty"/><line any_info="No Anys on this line!" content="        self.port_name_text = None" number="191" precision="precise"/><line any_info="No Anys on this line!" content="        self.port_box = None" number="192" precision="precise"/><line any_info="No Anys on this line!" content="" number="193" precision="empty"/><line any_info="No Anys on this line!" content="        self.left = None" number="194" precision="precise"/><line any_info="No Anys on this line!" content="        self.top = None" number="195" precision="precise"/><line any_info="No Anys on this line!" content="        self.right = None" number="196" precision="precise"/><line any_info="No Anys on this line!" content="        self.bottom = None" number="197" precision="precise"/><line any_info="No Anys on this line!" content="" number="198" precision="empty"/><line any_info="No Anys on this line!" content="    def draw(self, left, top):" number="199" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="        self.left = left" number="200" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="        self.top = top" number="201" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        self.right = left + ViewConfig.channel_width" number="202" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x8)" content="        self.bottom = top + 25 + len(self.channel_views) * ViewConfig.channel_cell_height" number="203" precision="any"/><line any_info="No Anys on this line!" content="" number="204" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x8)" content="        self.port_box = self.canvas.create_rectangle(self.left, self.top, self.right, self.bottom," number="205" precision="any"/><line any_info="No Anys on this line!" content="                                                     outline=&quot;&quot;, fill=&quot;black&quot;)" number="206" precision="any"/><line any_info="No Anys on this line!" content="" number="207" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x8)" content="        self.port_name_text = self.canvas.create_text(self.left + ViewConfig.channel_width / 2," number="208" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="                                                      self.top + 8," number="209" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x1)" content="                                                      text=self.port_name, fill=&quot;white&quot;, justify=tk.CENTER)" number="210" precision="any"/><line any_info="No Anys on this line!" content="" number="211" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Omitted Generics (x2)" content="        for idx, channel_view in enumerate(self.channel_views):" number="212" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x11)" content="            channel_view.draw(self.left, self.top + 20 + idx * (ViewConfig.channel_cell_height + 1))" number="213" precision="any"/><line any_info="No Anys on this line!" content="" number="214" precision="empty"/><line any_info="No Anys on this line!" content="" number="215" precision="empty"/><line any_info="No Anys on this line!" content="class OperatorView:" number="216" precision="precise"/><line any_info="No Anys on this line!" content="" number="217" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="    def __init__(self, canvas: tk.Canvas, operator: Operator):" number="218" precision="any"/><line any_info="No Anys on this line!" content="        self.canvas = canvas" number="219" precision="precise"/><line any_info="Any Types on this line: &#10;Unimported (x3)" content="        self.name: str = operator.get_simple_name()" number="220" precision="any"/><line any_info="No Anys on this line!" content="" number="221" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="        self.input_port_views: dict[ChannelInputPort, PortView] = {" number="222" precision="imprecise"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="            input_port: PortView(canvas, input_port.get_simple_name()) for input_port in" number="223" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x9)" content="            operator.get_protected().get_nested_instances().values() if isinstance(input_port, ChannelInputPort)" number="224" precision="any"/><line any_info="No Anys on this line!" content="        }" number="225" precision="empty"/><line any_info="No Anys on this line!" content="" number="226" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="        self.output_port_views: dict[ChannelOutputPort, PortView] = {" number="227" precision="imprecise"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="            output_port: PortView(canvas, output_port.get_simple_name()) for output_port in" number="228" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x9)" content="            operator.get_protected().get_nested_instances().values() if isinstance(output_port, ChannelOutputPort)" number="229" precision="any"/><line any_info="No Anys on this line!" content="        }" number="230" precision="empty"/><line any_info="No Anys on this line!" content="" number="231" precision="empty"/><line any_info="No Anys on this line!" content="        self.left = None" number="232" precision="precise"/><line any_info="No Anys on this line!" content="        self.top = None" number="233" precision="precise"/><line any_info="No Anys on this line!" content="        self.right = None" number="234" precision="precise"/><line any_info="No Anys on this line!" content="        self.bottom = None" number="235" precision="precise"/><line any_info="No Anys on this line!" content="" number="236" precision="empty"/><line any_info="No Anys on this line!" content="    def draw(self, left, top):" number="237" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="        self.left = left" number="238" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="        self.top = top" number="239" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        self.right = left + ViewConfig.operator_width" number="240" precision="any"/><line any_info="No Anys on this line!" content="" number="241" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x8)" content="        operator_box = self.canvas.create_rectangle(self.left, self.top, self.right, self.top," number="242" precision="any"/><line any_info="No Anys on this line!" content="                                                    outline=&quot;&quot;, fill=&quot;grey40&quot;)" number="243" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x9)" content="        self.canvas.create_text(self.left + ViewConfig.operator_width / 2, self.top + 10," number="244" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="                                text=self.name, width=ViewConfig.operator_width, fill=&quot;white&quot;)" number="245" precision="any"/><line any_info="No Anys on this line!" content="" number="246" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x3)" content="        input_y_pos = self.top + 25" number="247" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        for input_port_view in self.input_port_views.values():" number="248" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x5)" content="            input_port_view.draw(self.left, input_y_pos)" number="249" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="            input_y_pos = 5 + input_port_view.bottom" number="250" precision="any"/><line any_info="No Anys on this line!" content="" number="251" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x3)" content="        output_y_pos = self.top + 25" number="252" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        for output_port_view in self.output_port_views.values():" number="253" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x6)" content="            output_port_view.draw(self.right - ViewConfig.channel_width," number="254" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x1)" content="                                  output_y_pos)" number="255" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="            output_y_pos = 5 + output_port_view.bottom" number="256" precision="any"/><line any_info="No Anys on this line!" content="" number="257" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Omitted Generics (x23)" content="        self.bottom = max(input_y_pos, output_y_pos)" number="258" precision="any"/><line any_info="No Anys on this line!" content="" number="259" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x8)" content="        self.canvas.coords(operator_box, self.left, self.top, self.right, self.bottom)" number="260" precision="any"/></mypy-report-file>