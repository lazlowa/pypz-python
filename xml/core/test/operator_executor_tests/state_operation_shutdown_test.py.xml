<?xml-stylesheet type="text/xsl" href="../../../../mypy-html.xslt"?><mypy-report-file name="core\test\operator_executor_tests\state_operation_shutdown_test.py" module="core.test.operator_executor_tests.state_operation_shutdown_test"><line any_info="No Anys on this line!" content="# =============================================================================" number="1" precision="empty"/><line any_info="No Anys on this line!" content="# Copyright (c) 2024 by Laszlo Anka. All rights reserved." number="2" precision="empty"/><line any_info="No Anys on this line!" content="#" number="3" precision="empty"/><line any_info="No Anys on this line!" content="# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);" number="4" precision="empty"/><line any_info="No Anys on this line!" content="# you may not use this file except in compliance with the License." number="5" precision="empty"/><line any_info="No Anys on this line!" content="# You may obtain a copy of the License at" number="6" precision="empty"/><line any_info="No Anys on this line!" content="#" number="7" precision="empty"/><line any_info="No Anys on this line!" content="#     http://www.apache.org/licenses/LICENSE-2.0" number="8" precision="empty"/><line any_info="No Anys on this line!" content="#" number="9" precision="empty"/><line any_info="No Anys on this line!" content="# Unless required by applicable law or agreed to in writing, software" number="10" precision="empty"/><line any_info="No Anys on this line!" content="# distributed under the License is distributed on an &quot;AS IS&quot; BASIS," number="11" precision="empty"/><line any_info="No Anys on this line!" content="# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied." number="12" precision="empty"/><line any_info="No Anys on this line!" content="# See the License for the specific language governing permissions and" number="13" precision="empty"/><line any_info="No Anys on this line!" content="# limitations under the License." number="14" precision="empty"/><line any_info="No Anys on this line!" content="# =============================================================================" number="15" precision="empty"/><line any_info="No Anys on this line!" content="import unittest" number="16" precision="precise"/><line any_info="No Anys on this line!" content="" number="17" precision="empty"/><line any_info="No Anys on this line!" content="from pypz.executors.commons import ExecutionMode" number="18" precision="any"/><line any_info="No Anys on this line!" content="from pypz.executors.operator.executor import OperatorExecutor" number="19" precision="any"/><line any_info="No Anys on this line!" content="from pypz.executors.operator.signals import SignalResourcesDeletion, SignalNoOp, SignalError, SignalServicesStop" number="20" precision="any"/><line any_info="No Anys on this line!" content="from core.test.operator_executor_tests.resources import TestPipeline" number="21" precision="precise"/><line any_info="No Anys on this line!" content="" number="22" precision="empty"/><line any_info="No Anys on this line!" content="" number="23" precision="empty"/><line any_info="No Anys on this line!" content="class StateOperationShutdownTest(unittest.TestCase):" number="24" precision="precise"/><line any_info="No Anys on this line!" content="" number="25" precision="empty"/><line any_info="No Anys on this line!" content="    def test_state_execution_results(self):" number="26" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline = TestPipeline(&quot;pipeline&quot;)" number="27" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Unimported (x1)" content="        ex = OperatorExecutor(pipeline.operator_a)" number="28" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x3)" content="        ex._OperatorExecutor__initialize()" number="29" precision="any"/><line any_info="No Anys on this line!" content="" number="30" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        ex._OperatorExecutor__current_state = ex._OperatorExecutor__state_operation_shutdown" number="31" precision="any"/><line any_info="No Anys on this line!" content="" number="32" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x7)&#10;Unimported (x1)" content="        self.assertIsInstance(ex.get_current_state().on_execute(), SignalResourcesDeletion)" number="33" precision="any"/><line any_info="No Anys on this line!" content="" number="34" precision="empty"/><line any_info="No Anys on this line!" content="    def test_state_execution_results_with_unfinished_plugin(self):" number="35" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline = TestPipeline(&quot;pipeline&quot;)" number="36" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline.operator_a.set_parameter(&quot;&gt;return__on_port_close&quot;, False)" number="37" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Unimported (x1)" content="        ex = OperatorExecutor(pipeline.operator_a)" number="38" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x3)" content="        ex._OperatorExecutor__initialize()" number="39" precision="any"/><line any_info="No Anys on this line!" content="" number="40" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        ex._OperatorExecutor__current_state = ex._OperatorExecutor__state_operation_shutdown" number="41" precision="any"/><line any_info="No Anys on this line!" content="" number="42" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x7)&#10;Unimported (x1)" content="        self.assertIsInstance(ex.get_current_state().on_execute(), SignalNoOp)" number="43" precision="any"/><line any_info="No Anys on this line!" content="" number="44" precision="empty"/><line any_info="No Anys on this line!" content="    def test_state_execution_results_with_unfinished_operator(self):" number="45" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline = TestPipeline(&quot;pipeline&quot;)" number="46" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline.operator_a.set_parameter(&quot;return__on_shutdown&quot;, False)" number="47" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Unimported (x1)" content="        ex = OperatorExecutor(pipeline.operator_a)" number="48" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x3)" content="        ex._OperatorExecutor__initialize()" number="49" precision="any"/><line any_info="No Anys on this line!" content="" number="50" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        ex._OperatorExecutor__current_state = ex._OperatorExecutor__state_operation_shutdown" number="51" precision="any"/><line any_info="No Anys on this line!" content="" number="52" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x7)&#10;Unimported (x1)" content="        self.assertIsInstance(ex.get_current_state().on_execute(), SignalNoOp)" number="53" precision="any"/><line any_info="No Anys on this line!" content="" number="54" precision="empty"/><line any_info="No Anys on this line!" content="    def test_state_execution_results_with_error_raised_from_plugin(self):" number="55" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline = TestPipeline(&quot;pipeline&quot;)" number="56" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline.operator_a.set_parameter(&quot;&gt;raise__on_port_close&quot;, &quot;Test Error&quot;)" number="57" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Unimported (x1)" content="        ex = OperatorExecutor(pipeline.operator_a)" number="58" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x3)" content="        ex._OperatorExecutor__initialize()" number="59" precision="any"/><line any_info="No Anys on this line!" content="" number="60" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        ex._OperatorExecutor__current_state = ex._OperatorExecutor__state_operation_shutdown" number="61" precision="any"/><line any_info="No Anys on this line!" content="" number="62" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x7)&#10;Unimported (x1)" content="        self.assertIsInstance(ex.get_current_state().on_execute(), SignalError)" number="63" precision="any"/><line any_info="No Anys on this line!" content="" number="64" precision="empty"/><line any_info="No Anys on this line!" content="    def test_state_execution_results_with_error_raised_from_operator(self):" number="65" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline = TestPipeline(&quot;pipeline&quot;)" number="66" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline.operator_a.set_parameter(&quot;raise__on_shutdown&quot;, False)" number="67" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Unimported (x1)" content="        ex = OperatorExecutor(pipeline.operator_a)" number="68" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x3)" content="        ex._OperatorExecutor__initialize()" number="69" precision="any"/><line any_info="No Anys on this line!" content="" number="70" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        ex._OperatorExecutor__current_state = ex._OperatorExecutor__state_operation_shutdown" number="71" precision="any"/><line any_info="No Anys on this line!" content="" number="72" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x7)&#10;Unimported (x1)" content="        self.assertIsInstance(ex.get_current_state().on_execute(), SignalError)" number="73" precision="any"/><line any_info="No Anys on this line!" content="" number="74" precision="empty"/><line any_info="No Anys on this line!" content="    def test_state_execution_results_with_modified_run_mode(self):" number="75" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        pipeline = TestPipeline(&quot;pipeline&quot;)" number="76" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Unimported (x1)" content="        ex = OperatorExecutor(pipeline.operator_a)" number="77" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x4)&#10;Unimported (x1)" content="        ex._OperatorExecutor__initialize(ExecutionMode.WithoutResourceDeletion)" number="78" precision="any"/><line any_info="No Anys on this line!" content="" number="79" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x4)" content="        ex._OperatorExecutor__current_state = ex._OperatorExecutor__state_operation_shutdown" number="80" precision="any"/><line any_info="No Anys on this line!" content="" number="81" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x7)&#10;Unimported (x1)" content="        self.assertIsInstance(ex.get_current_state().on_execute(), SignalServicesStop)" number="82" precision="any"/></mypy-report-file>