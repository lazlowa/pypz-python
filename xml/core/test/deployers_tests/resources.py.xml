<?xml-stylesheet type="text/xsl" href="../../../../mypy-html.xslt"?><mypy-report-file name="core\test\deployers_tests\resources.py" module="core.test.deployers_tests.resources"><line any_info="No Anys on this line!" content="# =============================================================================" number="1" precision="empty"/><line any_info="No Anys on this line!" content="# Copyright (c) 2024 by Laszlo Anka. All rights reserved." number="2" precision="empty"/><line any_info="No Anys on this line!" content="#" number="3" precision="empty"/><line any_info="No Anys on this line!" content="# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);" number="4" precision="empty"/><line any_info="No Anys on this line!" content="# you may not use this file except in compliance with the License." number="5" precision="empty"/><line any_info="No Anys on this line!" content="# You may obtain a copy of the License at" number="6" precision="empty"/><line any_info="No Anys on this line!" content="#" number="7" precision="empty"/><line any_info="No Anys on this line!" content="#     http://www.apache.org/licenses/LICENSE-2.0" number="8" precision="empty"/><line any_info="No Anys on this line!" content="#" number="9" precision="empty"/><line any_info="No Anys on this line!" content="# Unless required by applicable law or agreed to in writing, software" number="10" precision="empty"/><line any_info="No Anys on this line!" content="# distributed under the License is distributed on an &quot;AS IS&quot; BASIS," number="11" precision="empty"/><line any_info="No Anys on this line!" content="# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied." number="12" precision="empty"/><line any_info="No Anys on this line!" content="# See the License for the specific language governing permissions and" number="13" precision="empty"/><line any_info="No Anys on this line!" content="# limitations under the License." number="14" precision="empty"/><line any_info="No Anys on this line!" content="# =============================================================================" number="15" precision="empty"/><line any_info="No Anys on this line!" content="from typing import Optional" number="16" precision="precise"/><line any_info="No Anys on this line!" content="" number="17" precision="empty"/><line any_info="No Anys on this line!" content="from pypz.core.specs.misc import BlankOperator" number="18" precision="any"/><line any_info="No Anys on this line!" content="from pypz.core.specs.operator import Operator" number="19" precision="any"/><line any_info="No Anys on this line!" content="from pypz.core.specs.pipeline import Pipeline" number="20" precision="any"/><line any_info="No Anys on this line!" content="from pypz.deployers.base import Deployer, DeploymentState" number="21" precision="any"/><line any_info="No Anys on this line!" content="from pypz.executors.commons import ExecutionMode" number="22" precision="any"/><line any_info="No Anys on this line!" content="" number="23" precision="empty"/><line any_info="No Anys on this line!" content="" number="24" precision="empty"/><line any_info="No Anys on this line!" content="class TestDeployer(Deployer):" number="25" precision="precise"/><line any_info="No Anys on this line!" content="" number="26" precision="empty"/><line any_info="No Anys on this line!" content="    def __init__(self):" number="27" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x1)" content="        super().__init__()" number="28" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x1)&#10;Unannotated (x2)" content="        self.deployed_pipelines: dict[str, Pipeline] = dict()" number="29" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x1)&#10;Unannotated (x2)" content="        self.deployed_operators: dict[str, DeploymentState] = dict()" number="30" precision="any"/><line any_info="No Anys on this line!" content="" number="31" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x3)" content="    def deploy(self, pipeline: Pipeline," number="32" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="               execution_mode: ExecutionMode = ExecutionMode.Standard," number="33" precision="any"/><line any_info="No Anys on this line!" content="               ignore_operators: list[Operator] = None," number="34" precision="precise"/><line any_info="No Anys on this line!" content="               wait: bool = True) -&gt; None:" number="35" precision="precise"/><line any_info="Any Types on this line: &#10;Unimported (x5)" content="        self.deployed_pipelines[pipeline.get_full_name()] = pipeline" number="36" precision="any"/><line any_info="No Anys on this line!" content="" number="37" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x8)" content="        for operator in pipeline.get_protected().get_nested_instances().values():" number="38" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x6)" content="            self.deployed_operators[operator.get_full_name()] = DeploymentState.Running" number="39" precision="any"/><line any_info="No Anys on this line!" content="" number="40" precision="empty"/><line any_info="No Anys on this line!" content="    def destroy(self, pipeline_name: str, force: bool = False, wait: bool = True) -&gt; None:" number="41" precision="precise"/><line any_info="Any Types on this line: &#10;Unimported (x3)" content="        pipeline = self.deployed_pipelines[pipeline_name]" number="42" precision="any"/><line any_info="No Anys on this line!" content="" number="43" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x8)" content="        for operator in pipeline.get_protected().get_nested_instances().values():" number="44" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x4)" content="            del self.deployed_operators[operator.get_full_name()]" number="45" precision="any"/><line any_info="No Anys on this line!" content="" number="46" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="        del self.deployed_pipelines[pipeline_name]" number="47" precision="imprecise"/><line any_info="No Anys on this line!" content="" number="48" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x1)" content="    def restart_operator(self, operator_full_name: str, force: bool = False, wait: bool = True):" number="49" precision="any"/><line any_info="No Anys on this line!" content="        pass" number="50" precision="precise"/><line any_info="No Anys on this line!" content="" number="51" precision="empty"/><line any_info="No Anys on this line!" content="    def destroy_operator(self, operator_full_name: str, force: bool = False, wait: bool = True) -&gt; None:" number="52" precision="precise"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="        del self.deployed_operators[operator_full_name]" number="53" precision="imprecise"/><line any_info="No Anys on this line!" content="" number="54" precision="empty"/><line any_info="No Anys on this line!" content="    def is_deployed(self, pipeline_name: str) -&gt; bool:" number="55" precision="precise"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="        return pipeline_name in self.deployed_pipelines" number="56" precision="imprecise"/><line any_info="No Anys on this line!" content="" number="57" precision="empty"/><line any_info="No Anys on this line!" content="    def retrieve_pipeline_deployments(self) -&gt; set[str]:" number="58" precision="precise"/><line any_info="Any Types on this line: &#10;Omitted Generics (x3)&#10;Unimported (x3)" content="        return set(self.deployed_pipelines.keys())" number="59" precision="imprecise"/><line any_info="No Anys on this line!" content="" number="60" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="    def retrieve_deployed_pipeline(self, pipeline_name: str) -&gt; Optional[Pipeline]:" number="61" precision="imprecise"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="        return self.deployed_pipelines[pipeline_name]" number="62" precision="any"/><line any_info="No Anys on this line!" content="" number="63" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="    def retrieve_operator_state(self, operator_full_name: str) -&gt; DeploymentState:" number="64" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="        if operator_full_name in self.deployed_operators:" number="65" precision="imprecise"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="            return self.deployed_operators[operator_full_name]" number="66" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x2)" content="        return DeploymentState.NotExisting" number="67" precision="any"/><line any_info="No Anys on this line!" content="" number="68" precision="empty"/><line any_info="No Anys on this line!" content="    def retrieve_operator_logs(self, operator_full_name: str) -&gt; Optional[str]:" number="69" precision="precise"/><line any_info="No Anys on this line!" content="        pass" number="70" precision="precise"/><line any_info="No Anys on this line!" content="" number="71" precision="empty"/><line any_info="No Anys on this line!" content="" number="72" precision="empty"/><line any_info="No Anys on this line!" content="class TestPipeline(Pipeline):" number="73" precision="precise"/><line any_info="No Anys on this line!" content="" number="74" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="    def __init__(self, name: str, *args, **kwargs):" number="75" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="        super().__init__(name, *args, **kwargs)" number="76" precision="imprecise"/><line any_info="No Anys on this line!" content="" number="77" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x4)" content="        self.operator_a: BlankOperator = BlankOperator()" number="78" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x3)" content="        self.operator_a.set_parameter(&quot;replicationFactor&quot;, 1)" number="79" precision="any"/><line any_info="No Anys on this line!" content="" number="80" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x4)" content="        self.operator_b: BlankOperator = BlankOperator()" number="81" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x4)" content="        self.operator_c: BlankOperator = BlankOperator()" number="82" precision="any"/><line any_info="Any Types on this line: &#10;Unimported (x4)" content="        self.operator_d: BlankOperator = BlankOperator()" number="83" precision="any"/></mypy-report-file>